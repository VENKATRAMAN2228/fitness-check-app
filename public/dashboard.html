<!DOCTYPE html>
<html>
<head>
  <style>
    
  button {
    padding: 10px 16px;
    border: none;
    border-radius: 8px;
    background-color: #22c55e; /* green */
    color: white;
    font-size: 14px;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  button:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
  }

  button:active {
    transform: scale(0.95);
  }


  .fade-slide {
    animation: fadeSlideIn 1s ease-out;
  }

  @keyframes fadeSlideIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

  <title>Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

  <h1 class="fade-slide">Fitness Dashboard</h1>

  <h3>ğŸ“Š Weekly Summary (Last 7 Days)</h3>
<ul>
  <li>ğŸƒ Running: <span id="runCount">0</span></li>
  <li>ğŸ‹ï¸ Workouts Done: <span id="workCount">0</span></li>
  <li>ğŸ¥© Protein Entries: <span id="proCount">0</span></li>
</ul>


  <ul>
  <ul>
  <li><a href="running.html">ğŸƒ Running & Abs</a></li>
  <li><a href="workout.html">ğŸ‹ï¸ Workouts</a></li>
  <li><a href="protein.html">ğŸ¥© Protein Intake</a></li>
</ul>

  </ul>

  <button onclick="logout()">Logout</button>

<script>
  function logout() {
    localStorage.removeItem("currentUser");
    window.location.href = "login.html";
  }

  const user = localStorage.getItem("currentUser");
  if (!user) window.location.href = "login.html";

  function last7DaysCount(keyName, filterFn = null) {
    const data = JSON.parse(localStorage.getItem(keyName)) || [];
    const today = new Date();

    return data.filter(item => {
      const d = new Date(item.date);
      const diff = (today - d) / (1000 * 60 * 60 * 24);
      if (diff <= 7) {
        return filterFn ? filterFn(item) : true;
      }
      return false;
    }).length;
  }

  document.getElementById("runCount").innerText =
    last7DaysCount(`fitness_${user}_running`);

  document.getElementById("workCount").innerText =
    last7DaysCount(`fitness_${user}_workout`, item => item.status === "âœ” Done");

  document.getElementById("proCount").innerText =
    last7DaysCount(`fitness_${user}_protein`);


</script>


</body>
</html>
